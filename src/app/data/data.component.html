<app-header></app-header>
<div class="table-container">
  <h2 class="caption">Fishing Details</h2>
  <div class="select-and-button-container">
    <select (change)="onDateRangeChange($event)">
      <option [value]="'thisWeek'" selected>This Week</option>
      <option [value]="'lastWeek'">Last Week</option>
      <option [value]="'twoWeeksAgo'">2 Weeks Ago</option>
      <option [value]="'threeWeeksAgo'">3 Weeks Ago</option>
    </select>
    <div class="button-container">
      <button class="btn btn-success add-data-button" (click)="addData()">Add New Data</button>
    </div>
  </div>
  
  <table>
    <thead>
      <tr>
        <th>Location</th>
        <th>Quantity</th>
        <th>Species</th>
        <th>Bait</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data">
        <td>{{item.location}}</td>
        <td>{{item.quantity}}</td>
        <td>{{item.species}}</td>
        <td>{{item.bait}}</td>
        <td>
          <button class="btn btn-primary button" (click)="editData(item._id)" [disabled]="!isEditable(item.created_at)">
            Edit
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Pagination -->
  <div class="pagination-container">
    <!-- <button class="pagination-button" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">Previous</button> -->
    <svg xmlns="http://www.w3.org/2000/svg" class="svg-icon" viewBox="0 0 512 512" (click)="changePage(currentPage - 1)"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#6a67ce" d="M459.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29l0-320c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4L288 214.3l0 41.7 0 41.7L459.5 440.6zM256 352l0-96 0-128 0-32c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160C4.2 237.5 0 246.5 0 256s4.2 18.5 11.5 24.6l192 160c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29l0-64z"/></svg>
    <!-- Dynamically generate page buttons -->
    <ng-container *ngIf="totalPages > 1">
      <button
        class="pagination-button"
        *ngFor="let page of pages"
        (click)="changePage(page)"
        [class.active]="currentPage === page">
        {{ page }}
      </button>
    </ng-container>
    <svg xmlns="http://www.w3.org/2000/svg" class="svg-icon" viewBox="0 0 512 512" (click)="changePage(currentPage + 1)"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#6a67ce" d="M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416L0 96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4L224 214.3l0 41.7 0 41.7L52.5 440.6zM256 352l0-96 0-128 0-32c0-12.4 7.2-23.7 18.4-29s24.5-3.6 34.1 4.4l192 160c7.3 6.1 11.5 15.1 11.5 24.6s-4.2 18.5-11.5 24.6l-192 160c-9.5 7.9-22.8 9.7-34.1 4.4s-18.4-16.6-18.4-29l0-64z"/></svg>
    <!-- <button class="pagination-button" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button> -->
  </div>
  
</div>
